<!-- home.html
- 스터디 검색기능
- 내 스터디리스트 대표 3개(정렬기준은 상관 없음) 띄우기 + 대표 이미지 띄우기
  (내스터디에 +는 지울거니까 신경쓰지마세요)
- 오픈스터디 리스트 대표 3개 (정렬기준 상관x) 띄우기 + 대표 이미지 띄우기 -->

<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <title>OPEN STUDY</title>
   <link rel="stylesheet" href="../public/stylesheets/css/bootstrap.css">
   
   <link rel="shortcut icon" href="../public/images/shortcut-logo.png">
   <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
   <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  <script>
    var myStudies =<%- myStudies %>;
    console.log(myStudies);
    var Studies =<%- Studies %>;
    console.log(Studies);
    
    
    $(function() { //Studies부분 myStudies와 겹치지 않도록 고치기!!
      for (var i = 1; i <= 3; i++) { //MyStudy 할당
        if(myStudies.length>=i){
          $("#mystudy"+i).find('h5.card-title').text(myStudies[i-1].name); //0~2
          $("#mystudy"+i).find('p.card-text').text(myStudies[i-1].info);
          console.log( $("#mystudy"+i).find('h5.card-title'));

        }
      }
      var j; var limit =0 ;
      for (var i = 0; i <= 2; i++) { //openstudy 할당
        j=i;
        //만약 마이스터디
        if(myStudies.length==0){//myStudy 개수 0개인 경우
          j=i;

        }else if(myStudies.length==1){//myStudy 개수 1개인 경우
          while(myStudies[0].name==Studies[j].name){//i번째 스터디와 중복되는게 있으면
          if(i==j){
            j=limit;
          }
          j=j+1; limit=j; //limit으로 이미 거쳐간 거와 중복 안되도록
        }
        }else if(myStudies.length==2){
          while((myStudies[0].name==Studies[j].name)||(myStudies[1].name==Studies[j].name)){//i번째 스터디와 중복되는게 있으면
          if(i==j){
            j=limit;
          }
          j=j+1; limit=j; //limit으로 이미 거쳐간 거와 중복 안되도록
        }
        }else{
          while((myStudies[0].name==Studies[j].name)||(myStudies[1].name==Studies[j].name)||(myStudies[2].name==Studies[j].name)){//i번째 스터디와 중복되는게 있으면
          if(i==j){
            j=limit;
          }
          j=j+1; limit=j; //limit으로 이미 거쳐간 거와 중복 안되도록
        }
        }
        $("#openstudy"+(i+1)).find('h5.card-title').text(Studies[j].name);
        $("#openstudy"+(i+1)).find('p.card-text').text(Studies[j].info);
        console.log( $("#openstudy"+(i+1)).find('h5.card-title'));
        
      }

      // for (var i = 0; i < 3; i++) {
      // console.log( $("#mystudy3").find('h5.card-title'));
      // $("#mystudy1").find('h5.card-title').text(myStudies[0].name);
      // $("#mystudy1").find('p.card-text').text(myStudies[0].info);
      // $("#mystudy2").find('h5.card-title').text(myStudies[1].name);
      // $("#mystudy2").find('p.card-text').text(myStudies[1].info);
      // $("#mystudy3").find('h5.card-title').text(myStudies[2].name);
      // $("#mystudy3").find('p.card-text').text(myStudies[2].info);
      // $("#openstudy1").find('h5.card-title').text(Studies[3].name);
      // $("#openstudy1").find('p.card-text').text(Studies[3].info);
      // $("#openstudy2").find('h5.card-title').text(Studies[4].name);
      // $("#openstudy2").find('p.card-text').text(Studies[4].info);
      // $("#openstudy3").find('h5.card-title').text(Studies[5].name);
      // $("#openstudy3").find('p.card-text').text(Studies[5].info);
      // }
    });
    
    </script>   
</head>
<body 
   style="background:#ffbc3b">
   
   <nav class="navbar navbar-dark bg-dark fixed-top">
    <a class="navbar-brand" href="#" style = "color:rgb(7, 5, 5);">
        <img src="../public/images/logo.png" height="30" alt="HOME">
    </a>
    
    <a class="nav-link active" href="home" style = color:#ffbc3b;>HOME</a>
    <a class="nav-link" href="#" style = color:white;>MYSTUDY</a>
    <a class="nav-link" href="#" style = color:white;>OPENSTUDY</a>

    <div class="dropdown">
        <button   class="btn  btn-warning  dropdown-toggle"   data-toggle="dropdown">
          MY MENU
        </button>
        <div class="dropdown-menu dropdown-menu-right">
                 <a class="dropdown-item"  href="my-calendar">MY Calendar</a>
                 <a class="dropdown-item"  href="my-test">MY TEST</a>
                 <a class="dropdown-item"  href="#">개인정보 설정</a>
                 <a class="dropdown-item"  href="#">로그아웃</a>
        </div>
    </div>

  </nav>
  
  <div class="jumbotron" style = "margin-top: 60px;">
    <div class ="container">
    <h1 class="display-4">어서오세요!</h1>
    <p class="lead">이 곳엔 여러 스터디 방이 열려있으며, 얼마든지 참여 가능합니다!</p>
    <hr class="my-4">
    <p>열려있는 스터디방을 검색해보세요</p>

    <div class="input-group input-group-lg mb-3">
      <input type="text" class="form-control" placeholder="스터디방 검색" aria-label="Recipient's username" aria-describedby="button-addon2">
      <div class="input-group-append">
        <button class="btn btn-outline-secondary btn-warning" type="button" id="button-addon2" style = color:black;>검색</button>
      </div>
    </div>

  </div>
</div>
<div class = "container">
  <div class = "row">
   <div class ="col-lg-offset-1 col-lg-10 col-md-4 col-sm-3"><h2>MY STUDY </h2></div> 
   <div class = "btn-group btn-group-toggle" data-toggle="buttons">
          <div class = "col-lg-offset-4 col-md-offset-2" style="margin-left:5%;"><button type="button" class="btn btn-outline-dark">See More</button></div>
          <div class = "col-lg-1"><button type="button" class="btn btn-outline-dark"><i class="fas fa-plus fa-lg"></i></button></div>
        </div>
  </div>
  <div class="row" style = "margin-top: 20px;">
    <div class="col-sm-4" id = "mystudy1">
        <img src="../public/images/course-1.jpg" class="card-img-top">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">MYSTUDY1</h5>
          <p class="card-text">새로운 스터디에 등록해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
    <div class="col-sm-4" id = "mystudy2">
      <div class="card">
          <img src="../public/images/course-1.jpg" class="card-img-top">
        <div class="card-body">
          <h5 class="card-title">MYSTUDY2</h5>
          <p class="card-text">새로운 스터디에 등록해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
    <div class="col-sm-4" id = "mystudy3">
      <div class="card">
          <img src="../public/images/course-1.jpg" class="card-img-top">
        <div class="card-body">
          <h5 class="card-title">MYSTUDY3</h5>
          <p class="card-text">새로운 스터디에 등록해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
  </div>
  <p>&nbsp</p>
  <div class = "row">
      <div class ="col-lg-offset-1 col-lg-10 col-md-4 col-sm-3"><h2>OPEN STUDY</h2></div> 
             <div class = "col-lg-offset-4 col-md-offset-2" style="margin-left:5%;"><button type="button" class="btn btn-outline-dark">See More</button></div>
     </div>
  <div class="row" style = "margin-top: 20px;  margin-bottom: 60px;">
    <div class="col-sm-4" id = "openstudy1">
      <div class="card">
        <img src="../public/images/course-1.jpg" class="card-img-top">
        <div class="card-body">
          <h5 class="card-title">OPENSTUDY1</h5>
          <p class="card-text">새로운 스터디를 생성해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
    <div class="col-sm-4" id= "openstudy2">
      <div class="card">
        <img src="../public/images/course-1.jpg" class="card-img-top">
        <div class="card-body">
          <h5 class="card-title">OPENSTUDY2</h5>
          <p class="card-text">새로운 스터디를 생성해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
    <div class="col-sm-4" id="openstudy3">
      <img src="../public/images/course-1.jpg" class="card-img-top">
      <div class="card">
        <div class="card-body">
          <h5 class="card-title">OPENSTUDY3</h5>
          <p class="card-text">새로운 스터디를 생성해보세요</p>
          <a href="#" class="btn btn-warning">입장하기</a>
        </div>
      </div>
    </div>
  </div>



</div>

  <nav class="navbar bottom navbar-dark bg-dark justify-content-center">
    <p style = color:white;>Footer bar</p>      
  </nav>

 
   
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script type="text/javascript" src="../public/javascripts/bootstrap.js"></script>
</body>   
</html>